(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{385:function(t,a,s){t.exports=s.p+"assets/img/stamped_tx.ba3f73ed.png"},428:function(t,a,s){"use strict";s.r(a);var i=s(5),n=Object(i.a)({},(function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("h1",{attrs:{id:"stamping-transactions"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#stamping-transactions"}},[t._v("#")]),t._v(" Stamping Transactions")]),t._v(" "),i("h2",{attrs:{id:"what-is-a-stamping-transaction"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-stamping-transaction"}},[t._v("#")]),t._v(" What Is A Stamping Transaction?")]),t._v(" "),i("p",[i("em",[t._v("Stamping a transaction")]),t._v(" simply means putting the previous block hash into the header of the\ntransaction. A stamped transaction, unlike normal transactions, has a lifetime (TTL) and it is only\nvalid for a certain time. If "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("T")]),i("mi",[t._v("T")]),i("mi",[t._v("L")]),i("mo",[t._v("=")]),i("mi",[t._v("N")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("TTL = N")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.13889em"}},[t._v("T")]),i("span",{staticClass:"mord mathnormal"},[t._v("L")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")])])])]),t._v(", the stamped transaction after NN blocks will be invalid.")]),t._v(" "),i("p",[t._v("By stamping transactions, we can decouple transactions from the block. There is no need to save the\nwhole transaction inside a block. Keeping the transaction hash is fair enough.")]),t._v(" "),i("p",[i("img",{attrs:{src:s(385),alt:"Stamping transaction"}})]),t._v(" "),i("h3",{attrs:{id:"how-to-validate-a-stamped-transaction"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#how-to-validate-a-stamped-transaction"}},[t._v("#")]),t._v(" How to Validate a Stamped Transaction")]),t._v(" "),i("p",[t._v("A stamped transaction can easily be verified. The first step is finding the block with the\ncorresponding stamp (block hash). If it doesn’t exist, it means the transaction is not valid. If the\nblock is found, we need to iterate over the next "),i("code",[t._v("N")]),t._v(" blocks to find the transaction hash. If the\ntransaction hash is found, it is valid. Otherwise, the transaction is invalid.")]),t._v(" "),i("p",[t._v("Tx is valid if:")]),t._v(" "),i("p",[i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("h")]),i("mi",[t._v("a")]),i("mi",[t._v("s")]),i("mi",[t._v("h")]),i("mo",{attrs:{stretchy:"false"}},[t._v("(")]),i("mi",[t._v("t")]),i("mi",[t._v("x")]),i("mo",{attrs:{stretchy:"false"}},[t._v(")")]),i("mtext",[t._v("∊")]),i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("S")]),i("mo",[t._v(":")]),i("mi",[t._v("S")]),i("mo",[t._v("+")]),i("mi",[t._v("N")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("hash(tx) ∊ Block[S:S+N]")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("h")]),i("span",{staticClass:"mopen"},[t._v("(")]),i("span",{staticClass:"mord mathnormal"},[t._v("t")]),i("span",{staticClass:"mord mathnormal"},[t._v("x")]),i("span",{staticClass:"mclose"},[t._v(")")]),i("span",{staticClass:"mord"},[t._v("∊")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v(":")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.76666em","vertical-align":"-0.08333em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),i("span",{staticClass:"mbin"},[t._v("+")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[t._v("N")]),i("span",{staticClass:"mclose"},[t._v("]")])])])])]),t._v(" "),i("p",[t._v("where: "),i("span",{staticClass:"katex"},[i("span",{staticClass:"katex-mathml"},[i("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[i("semantics",[i("mrow",[i("mi",[t._v("B")]),i("mi",[t._v("l")]),i("mi",[t._v("o")]),i("mi",[t._v("c")]),i("mi",[t._v("k")]),i("mo",{attrs:{stretchy:"false"}},[t._v("[")]),i("mi",[t._v("S")]),i("mo",{attrs:{stretchy:"false"}},[t._v("]")]),i("mo",[t._v("=")]),i("mi",[t._v("t")]),i("mi",[t._v("x")]),i("mi",{attrs:{mathvariant:"normal"}},[t._v(".")]),i("mi",[t._v("s")]),i("mi",[t._v("t")]),i("mi",[t._v("a")]),i("mi",[t._v("m")]),i("mi",[t._v("p")])],1),i("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("Block[S] = tx.stamp")])],1)],1)],1),i("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05017em"}},[t._v("B")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[t._v("l")]),i("span",{staticClass:"mord mathnormal"},[t._v("o")]),i("span",{staticClass:"mord mathnormal"},[t._v("c")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03148em"}},[t._v("k")]),i("span",{staticClass:"mopen"},[t._v("[")]),i("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[t._v("S")]),i("span",{staticClass:"mclose"},[t._v("]")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),i("span",{staticClass:"mrel"},[t._v("=")]),i("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),i("span",{staticClass:"base"},[i("span",{staticClass:"strut",staticStyle:{height:"0.80952em","vertical-align":"-0.19444em"}}),i("span",{staticClass:"mord mathnormal"},[t._v("t")]),i("span",{staticClass:"mord mathnormal"},[t._v("x")]),i("span",{staticClass:"mord"},[t._v(".")]),i("span",{staticClass:"mord mathnormal"},[t._v("s")]),i("span",{staticClass:"mord mathnormal"},[t._v("t")]),i("span",{staticClass:"mord mathnormal"},[t._v("a")]),i("span",{staticClass:"mord mathnormal"},[t._v("m")]),i("span",{staticClass:"mord mathnormal"},[t._v("p")])])])])]),t._v(" "),i("h2",{attrs:{id:"consequences"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#consequences"}},[t._v("#")]),t._v(" Consequences")]),t._v(" "),i("ul",[i("li",[i("p",[i("strong",[t._v("Reducing the size of mempool")])]),t._v(" "),i("p",[t._v("Each stamped transaction has a lifetime and the transaction will be invalid after a certain time.\nIt can help manage the mempool better and avoid keeping transactions with low fees forever.")])]),t._v(" "),i("li",[i("p",[i("strong",[t._v("Preventing any possible forks")])]),t._v(" "),i("p",[t._v("Stamped transactions are loyal to the main fork. Any possible fork needs to re-stamp the\ntransactions and therefore re-sign them, which is not feasible. This feature especially can\nmitigate "),i("em",[t._v("Nothing at stake")]),t._v(" and "),i("em",[t._v("long range")]),t._v(" attacks for Proof-of-Stake blockchains. There is no\nsolution to overcome long range attacks in PoS blockchain. Stamping transactions can mitigate this\nissue by binding transactions to the main fork.")])])]),t._v(" "),i("h2",{attrs:{id:"references"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References")]),t._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://tradeblock.com/blog/analysis-of-bitcoin-transaction-size-trends",target:"_blank",rel:"noopener noreferrer"}},[t._v("Analysis of Bitcoin Transaction Size Trends"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"https://blog.ethereum.org/2015/01/10/light-clients-proof-stake/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Light Clients and Proof of Stake"),i("OutboundLink")],1)]),t._v(" "),i("li",[i("a",{attrs:{href:"https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=8653269",target:"_blank",rel:"noopener noreferrer"}},[t._v("A Survey on Long-Range Attacks for Proof of Stake Protocols"),i("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);